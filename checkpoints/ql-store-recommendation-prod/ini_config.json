{
    "2025-03-14_12-16-29": {
        "environment_ini": "```json\n{\n  \"general\": {\n    \"refresh_date\": \"2023-10-05\",\n    \"user\": \"chenzhao\",\n    \"environment\": \"prod\",\n    \"mo_name\": \"\",\n    \"driver_dataset\": \"\",\n    \"dataproc_project_name\": \"ccg24-hrzana-gds-pacman\",\n    \"dataproc_storage_bucket\": \"pypl-bkt-rsh-row-std-gds-pacman\",\n    \"local_output_base_path\": \"/projects/gds-packman/apps/ql-store-recommendation-prod/research\",\n    \"gcs_base_path\": \"gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr\",\n    \"queue_name\": \"default\",\n    \"namespace\": \"gds-packman\"\n  }\n}",
        "solution_ini": "[general]\nmodel_name = RMR_MODEL_ID\ncheck_point = \nemail_to = chenzhao\nstate_file = \ncosmos_project = chenzhao\ngcp_app_id = \n\n[Driver Creation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/00_driver.ipynb\nline_range = Lines 4-512\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\nhard_negative_impression_time_window = config['driver_config']['hard_negative_impression_time_window']\nnegative_sampling_avoid_delay_postive_feedback_window = config['driver_config']['negative_sampling_avoid_delay_postive_feedback_window']\noot_start_date = config['driver_config']['oot_start_date']\nratio_for_hard_negtive = config['driver_config']['ratio_for_hard_negtive']\nremoving_highly_active_user_merchant_date_threshold = config['driver_config']['removing_highly_active_user_merchant_date_threshold']\nremoving_highly_active_user_merchant_threshold = config['driver_config']['removing_highly_active_user_merchant_threshold']\nremoving_highly_active_user_threshold = config['driver_config']['removing_highly_active_user_threshold']\nsave_label_mixing_rate = config['driver_config']['save_label_mixing_rate']\ntrain_start_date = config['driver_config']['train_start_date']\ntraining_attributed_txn_upsampling_rate = config['driver_config']['training_attributed_txn_upsampling_rate']\ntraining_exclude_merch = config['driver_config']['training_exclude_merch']\ntraining_hot_negative_sampling_alpha = config['driver_config']['training_hot_negative_sampling_alpha']\ntraining_hot_positive_attributed_txn_sampling_alpha = config['driver_config']['training_hot_positive_attributed_txn_sampling_alpha']\ntraining_hot_positive_organic_txn_sampling_alpha = config['driver_config']['training_hot_positive_organic_txn_sampling_alpha']\nuniform_negative_postive_ratio = config['driver_config']['uniform_negative_postive_ratio']\nval_start_date = config['driver_config']['val_start_date']\ndriver_oot = {bq_prefix}driver_oot\ndriver_simu = {bq_prefix}driver_simu\ndriver_simu_consumer = {bq_prefix}driver_simu_consumer\n\n[Feature Engineering]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_bq_feat.ipynb\nline_range = Lines 17-817\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ntrain_start_date = config['driver_config']['train_start_date']\ndriver_consumer_base_gender_table = {bq_prefix}driver_consumer_base_gender\n\n[Data Pulling]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_varmart_feat.ipynb\nline_range = Lines 23-67\nbq_materialization_dataset = rsh_row_gds_pacman\nbq_materialization_project = pypl-bods\ndescription = ranking_combined_datafetcher\ndriver_loc = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_driver_simu_consumer\ngcp_project_id = ccg24-hrzana-gds-pacman\ngcs_bucket_name = pypl-bkt-rsh-row-std-gds-pacman\ngroup_name = mls_gads\nis_prod = True\njob_name = ql_store_rmr\nmanager = Farhad\nmodel_name = ql_store_rmr_datafetcher\nmodel_owner = chenzhao\nnum_of_splits = 1\non_gcp = True\nseq_num = 20231005\nsplit_ratio = {\"train\": 1.0}\nstage = training\nvariables = [\"prmry_addr_state\", \"days_on_file\", \"ebay_member_y_n\", \"consu_engagmnt_seg_key\", \"prmry_cc_type_code\", \"days_appweb_visit\", \"consu_age_band_key\", \"consu_income_band_key\", \"consu_dmgrphc_seg_key\"]\ndata_loc = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_driver_simu_consumer_varmart\n\n[Feature Consolidation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/02_combine.ipynb\nline_range = Lines 17-624\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ndriver_dev_features_table = {bq_prefix}driver_dev_features\ndriver_oot_features_expand_seq_table = {bq_prefix}driver_oot_features_expand_seq\ndriver_oot_features_table = {bq_prefix}driver_oot_features\nexport_uri = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_driver_dev_features/part*.parquet\n\n[Data Preprocessing]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/03_prepare_training_data.ipynb\nline_range = Lines 21-175\ncategorical_features = [\"sndr_consu_engagmnt_seg_key\", \"sndr_ebay_member_y_n\", \"gender\", ...]\nchunk_size = 1000000\ndirectory = ../data/ql_store_rmr_driver_dev_features\nmodel_version_base = ../artifacts/din_<today_date>\nnumeric_features = [\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", ...]\nparquet_files = [\"file1.parquet\", \"file2.parquet\", ...]\nrcvr_id_tokenizer_params = {\"num_words\": 1000, \"oov_token\": \"<OOV>\"}\nstate_to_abbreviation = {\"ALABAMA\": \"AL\", \"ALASKA\": \"AK\", ...}\ncategorical_feature_encoders_path = ../artifacts/din_<today_date>/exported_feature_transformer/categorical_feature_encoders\nexported_feature_transformer = ../artifacts/din_<today_date>/exported_feature_transformer\nmodel_version = din_<today_date>\nnumerical_feature_scalars_path = ../artifacts/din_<today_date>/exported_feature_transformer/numerical_feature_scalars\noutput_dir = ../data/ql_store_rmr_driver_dev_features_transformed\nrcvr_id_tokenizer_path = ../artifacts/din_<today_date>/exported_feature_transformer/rcvr_id_tokenizer\n\n[Model Training]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 140-170\natt_activation = config['training_config']['DIN']['att_activation']\natt_hidden_size = config['training_config']['DIN']['att_hidden_size']\natt_weight_normalization = config['training_config']['DIN']['att_weight_normalization']\nbatch_size = config['training_config']['DIN']['batch_size']\ndnn_activation = config['training_config']['DIN']['dnn_activation']\ndnn_dropout = config['training_config']['DIN']['dnn_dropout']\ndnn_hidden_units = config['training_config']['DIN']['dnn_hidden_units']\ndnn_use_bn = config['training_config']['DIN']['dnn_use_bn']\nepochs = config['training_config']['DIN']['epochs']\ngpt_cate_names = [\"gpt_1st_category_l2_index\", \"sndr_1st_freq_merchant_category_30d\", ...]\nl2_reg_dnn = config['training_config']['DIN']['l2_reg_dnn']\nl2_reg_embedding = config['training_config']['DIN']['l2_reg_embedding']\nlearning_rate = config['training_config']['DIN']['learning_rate']\nnumeric_names = [\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", \"sndr_rcvr_txn_num_365d\", ...]\nrcvr_id_names = [\"rcvr_id\"]\nseed = config['training_config']['DIN']['seed']\ntrain_data_path = ../data/ql_store_rmr_driver_dev_features_transformed\nmodel_artifact_path = os.path.join(exported_model_base, 'din.h5')\ntf_model_path = os.path.join(exported_model_base, 'din_saved_model')\n\n[Model Packaging]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 171-185\ntrained_model_path = os.path.join(exported_model_base, 'din_saved_model')\nonnx_model_path = os.path.join(exported_model_base, 'din.onnx')\noot_scoring_path = os.path.join(exported_model_base, 'oot_scoring')\nprod_model_path = os.path.join(exported_model_base, 'din_prod.m')\n\n[Model Scoring]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/05_scoring_oot.ipynb\nline_range = Lines 25-94\neval_path = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_oot_transformed_scored\nexported_model_base = /projects/gds-packman/apps/ql-store-recommendation-prod/research/artifacts/{model_version}/exported_models\nm_gcp_folder = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/challenger/oot_scoring\nm_local_folder = /projects/gds-packman/apps/ql-store-recommendation-prod/research/artifacts/din_20240708/18/exported_models/oot_scoring\nmodel_version_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research/_current_model_version\noot_data_path = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_oot_transformed\nparams_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research/config\nsection_name = oot_data_scoring\nworking_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research\neval_result_path = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr/data/ql_store_rmr_oot_transformed_scored\nlog_file = /projects/gds-packman/apps/ql-store-recommendation-prod/research/logs/{job_id}.log\n\n[Model Evaluation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/06_evaluation.ipynb\nline_range = Lines 375-731\nbq_project_dataset_prefix = {config['general_config']['bq_project_dataset_prefix']}\nconfig_file_path = ../config/base_config.yaml\nmodel_version_base = ../artifacts/{model_version}/18\nmodel_version_path = ../_current_model_version\noot_start_date = {config['driver_config']['oot_start_date']}\nremove_list = '1365556366671835703','2254348706417584521','1581565211190403045','1157330454984142772','1339933886421356550','1812170125034785903','6053464759929799123','1587111025150613712','1672368731209095395','1365556366671835703','6085552794250364378','1954349237309389875'\nexported_eval_readout_base = ../artifacts/{model_version}/18/exported_eval_readouts\nperformance_all_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.csv\nperformance_all_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.png\nperformance_ftu_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.csv\nperformance_ftu_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.png\nperformance_wo_ebay_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.csv\nperformance_wo_ebay_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.png"
    },
    "2025-03-14_12-19-24": {
        "environment_ini": "[general]\nrefresh_date = 2023-10-05\nuser = chenzhao\nenvironment = dev\nmo_name = \ndriver_dataset = \ndataproc_project_name = ccg24-hrzana-gds-pacman\ndataproc_storage_bucket = pypl-bkt-rsh-row-std-gds-pacman\nlocal_output_base_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research\ngcs_base_path = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr\nqueue_name = default\nnamespace = gds-packman",
        "solution_ini": "[general]\nmodel_name = RMR_MODEL_ID\ncheck_point = \nemail_to = chenzhao\nstate_file = \ncosmos_project = chenzhao\ngcp_app_id = \n\n[Driver Creation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/00_driver.ipynb\nline_range = Lines 4-512\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\nhard_negative_impression_time_window = config['driver_config']['hard_negative_impression_time_window']\nnegative_sampling_avoid_delay_postive_feedback_window = config['driver_config']['negative_sampling_avoid_delay_postive_feedback_window']\noot_start_date = config['driver_config']['oot_start_date']\nratio_for_hard_negtive = config['driver_config']['ratio_for_hard_negtive']\nremoving_highly_active_user_merchant_date_threshold = config['driver_config']['removing_highly_active_user_merchant_date_threshold']\nremoving_highly_active_user_merchant_threshold = config['driver_config']['removing_highly_active_user_merchant_threshold']\nremoving_highly_active_user_threshold = config['driver_config']['removing_highly_active_user_threshold']\nsave_label_mixing_rate = config['driver_config']['save_label_mixing_rate']\ntrain_start_date = config['driver_config']['train_start_date']\ntraining_attributed_txn_upsampling_rate = config['driver_config']['training_attributed_txn_upsampling_rate']\ntraining_exclude_merch = config['driver_config']['training_exclude_merch']\ntraining_hot_negative_sampling_alpha = config['driver_config']['training_hot_negative_sampling_alpha']\ntraining_hot_positive_attributed_txn_sampling_alpha = config['driver_config']['training_hot_positive_attributed_txn_sampling_alpha']\ntraining_hot_positive_organic_txn_sampling_alpha = config['driver_config']['training_hot_positive_organic_txn_sampling_alpha']\nuniform_negative_postive_ratio = config['driver_config']['uniform_negative_postive_ratio']\nval_start_date = config['driver_config']['val_start_date']\ndriver_oot = '{bq_prefix}driver_oot'\ndriver_simu = '{bq_prefix}driver_simu'\ndriver_simu_consumer = '{bq_prefix}driver_simu_consumer'\n\n[Feature Engineering]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_bq_feat.ipynb\nline_range = Lines 17-817\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ntrain_start_date = config['driver_config']['train_start_date']\ndriver_consumer_base_gender_table = '{bq_prefix}driver_consumer_base_gender'\n\n[Data Pulling]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_varmart_feat.ipynb\nline_range = Lines 23-67\nbq_materialization_dataset = rsh_row_gds_pacman\nbq_materialization_project = pypl-bods\ndescription = ranking_combined_datafetcher\ndriver_loc = ${general:gcs_base_path}/data/ql_store_rmr_driver_simu_consumer\ngcp_project_id = ccg24-hrzana-gds-pacman\ngcs_bucket_name = pypl-bkt-rsh-row-std-gds-pacman\ngroup_name = mls_gads\nis_prod = 'True'\njob_name = ql_store_rmr\nmanager = Farhad\nmodel_name = ql_store_rmr_datafetcher\nmodel_owner = chenzhao\nnum_of_splits = '1'\non_gcp = 'True'\nseq_num = '20231005'\nsplit_ratio = '{\"train\": 1.0}'\nstage = training\nvariables = '[\"prmry_addr_state\", \"days_on_file\", \"ebay_member_y_n\", \"consu_engagmnt_seg_key\", \"prmry_cc_type_code\", \"days_appweb_visit\", \"consu_age_band_key\", \"consu_income_band_key\", \"consu_dmgrphc_seg_key\"]'\ndata_loc = ${general:gcs_base_path}/data/ql_store_rmr_driver_simu_consumer_varmart\n\n[Feature Consolidation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/02_combine.ipynb\nline_range = Lines 17-624\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ndriver_dev_features_table = '{bq_prefix}driver_dev_features'\ndriver_oot_features_expand_seq_table = '{bq_prefix}driver_oot_features_expand_seq'\ndriver_oot_features_table = '{bq_prefix}driver_oot_features'\nexport_uri = ${general:gcs_base_path}/data/ql_store_rmr_driver_dev_features/part*.parquet\n\n[Data Preprocessing]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/03_prepare_training_data.ipynb\nline_range = Lines 21-175\ncategorical_features = '[\"sndr_consu_engagmnt_seg_key\", \"sndr_ebay_member_y_n\", \"gender\", ...]'\nchunk_size = '1000000'\ndirectory = ../data/ql_store_rmr_driver_dev_features\nmodel_version_base = ../artifacts/din_<today_date>\nnumeric_features = '[\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", ...]'\nparquet_files = '[\"file1.parquet\", \"file2.parquet\", ...]'\nrcvr_id_tokenizer_params = '{\"num_words\": 1000, \"oov_token\": \"<OOV>\"}'\nstate_to_abbreviation = '{\"ALABAMA\": \"AL\", \"ALASKA\": \"AK\", ...}'\ncategorical_feature_encoders_path = ../artifacts/din_<today_date>/exported_feature_transformer/categorical_feature_encoders\nexported_feature_transformer = ../artifacts/din_<today_date>/exported_feature_transformer\nmodel_version = din_<today_date>\nnumerical_feature_scalars_path = ../artifacts/din_<today_date>/exported_feature_transformer/numerical_feature_scalars\noutput_dir = ../data/ql_store_rmr_driver_dev_features_transformed\nrcvr_id_tokenizer_path = ../artifacts/din_<today_date>/exported_feature_transformer/rcvr_id_tokenizer\n\n[Model Training]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 140-170\natt_activation = config['training_config']['DIN']['att_activation']\natt_hidden_size = config['training_config']['DIN']['att_hidden_size']\natt_weight_normalization = config['training_config']['DIN']['att_weight_normalization']\nbatch_size = config['training_config']['DIN']['batch_size']\ndnn_activation = config['training_config']['DIN']['dnn_activation']\ndnn_dropout = config['training_config']['DIN']['dnn_dropout']\ndnn_hidden_units = config['training_config']['DIN']['dnn_hidden_units']\ndnn_use_bn = config['training_config']['DIN']['dnn_use_bn']\nepochs = config['training_config']['DIN']['epochs']\ngpt_cate_names = '[\"gpt_1st_category_l2_index\", \"sndr_1st_freq_merchant_category_30d\", ...]'\nl2_reg_dnn = config['training_config']['DIN']['l2_reg_dnn']\nl2_reg_embedding = config['training_config']['DIN']['l2_reg_embedding']\nlearning_rate = config['training_config']['DIN']['learning_rate']\nnumeric_names = '[\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", \"sndr_rcvr_txn_num_365d\", ...]'\nrcvr_id_names = '[\"rcvr_id\"]'\nseed = config['training_config']['DIN']['seed']\ntrain_data_path = ../data/ql_store_rmr_driver_dev_features_transformed\nmodel_artifact_path = os.path.join(exported_model_base, 'din.h5')\ntf_model_path = os.path.join(exported_model_base, 'din_saved_model')\n\n[Model Packaging]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 171-185\ntrained_model_path = os.path.join(exported_model_base, 'din_saved_model')\nonnx_model_path = os.path.join(exported_model_base, 'din.onnx')\noot_scoring_path = os.path.join(exported_model_base, 'oot_scoring')\nprod_model_path = os.path.join(exported_model_base, 'din_prod.m')\n\n[Model Scoring]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/05_scoring_oot.ipynb\nline_range = Lines 25-94\neval_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed_scored\nexported_model_base = ${general:local_output_base_path}/artifacts/{model_version}/exported_models\nm_gcp_folder = ${general:gcs_base_path}/challenger/oot_scoring\nm_local_folder = ${general:local_output_base_path}/artifacts/din_20240708/18/exported_models/oot_scoring\nmodel_version_path = ${general:local_output_base_path}/_current_model_version\noot_data_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed\nparams_path = ${general:local_output_base_path}/config\nsection_name = oot_data_scoring\nworking_path = ${general:local_output_base_path}\neval_result_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed_scored\nlog_file = ${general:local_output_base_path}/logs/{job_id}.log\n\n[Model Evaluation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/06_evaluation.ipynb\nline_range = Lines 375-731\nbq_project_dataset_prefix = '{config['general_config']['bq_project_dataset_prefix']}'\nconfig_file_path = ../config/base_config.yaml\nmodel_version_base = ../artifacts/{model_version}/18\nmodel_version_path = ../_current_model_version\noot_start_date = '{config['driver_config']['oot_start_date']}'\nremove_list = '''1365556366671835703'',''2254348706417584521'',''1581565211190403045'',''1157330454984142772'',''1339933886421356550'',''1812170125034785903'',''6053464759929799123'',''1587111025150613712'',''1672368731209095395'',''1365556366671835703'',''6085552794250364378'',''1954349237309389875'''\nexported_eval_readout_base = ../artifacts/{model_version}/18/exported_eval_readouts\nperformance_all_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.csv\nperformance_all_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.png\nperformance_ftu_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.csv\nperformance_ftu_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.png\nperformance_wo_ebay_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.csv\nperformance_wo_ebay_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.png"
    },
    "2025-03-14_12-25-47": {
        "environment_ini": "[general]\nrefresh_date = 2023-10-05\nuser = chenzhao\nenvironment = dev\nmo_name = \ndriver_dataset = \ndataproc_project_name = ccg24-hrzana-gds-pacman\ndataproc_storage_bucket = pypl-bkt-rsh-row-std-gds-pacman\nlocal_output_base_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research\ngcs_base_path = gs://${general:dataproc_storage_bucket}/user/${general:user}/prod/ql-store-rmr\nqueue_name = default\nnamespace = gds-packman",
        "solution_ini": "[general]\nmodel_name = RMR_MODEL_ID\ncheck_point = \nemail_to = chenzhao\nstate_file = \ncosmos_project = chenzhao\ngcp_app_id = \n\n[Driver Creation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/00_driver.ipynb\nline_range = Lines 4-512\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\nhard_negative_impression_time_window = config['driver_config']['hard_negative_impression_time_window']\nnegative_sampling_avoid_delay_postive_feedback_window = config['driver_config']['negative_sampling_avoid_delay_postive_feedback_window']\noot_start_date = config['driver_config']['oot_start_date']\nratio_for_hard_negtive = config['driver_config']['ratio_for_hard_negtive']\nremoving_highly_active_user_merchant_date_threshold = config['driver_config']['removing_highly_active_user_merchant_date_threshold']\nremoving_highly_active_user_merchant_threshold = config['driver_config']['removing_highly_active_user_merchant_threshold']\nremoving_highly_active_user_threshold = config['driver_config']['removing_highly_active_user_threshold']\nsave_label_mixing_rate = config['driver_config']['save_label_mixing_rate']\ntrain_start_date = config['driver_config']['train_start_date']\ntraining_attributed_txn_upsampling_rate = config['driver_config']['training_attributed_txn_upsampling_rate']\ntraining_exclude_merch = config['driver_config']['training_exclude_merch']\ntraining_hot_negative_sampling_alpha = config['driver_config']['training_hot_negative_sampling_alpha']\ntraining_hot_positive_attributed_txn_sampling_alpha = config['driver_config']['training_hot_positive_attributed_txn_sampling_alpha']\ntraining_hot_positive_organic_txn_sampling_alpha = config['driver_config']['training_hot_positive_organic_txn_sampling_alpha']\nuniform_negative_postive_ratio = config['driver_config']['uniform_negative_postive_ratio']\nval_start_date = config['driver_config']['val_start_date']\ndriver_oot = '{bq_prefix}driver_oot'\ndriver_simu = '{bq_prefix}driver_simu'\ndriver_simu_consumer = '{bq_prefix}driver_simu_consumer'\n\n[Feature Engineering]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_bq_feat.ipynb\nline_range = Lines 17-817\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ntrain_start_date = config['driver_config']['train_start_date']\ndriver_consumer_base_gender_table = '{bq_prefix}driver_consumer_base_gender'\n\n[Data Pulling]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/01_varmart_feat.ipynb\nline_range = Lines 23-67\nbq_materialization_dataset = rsh_row_gds_pacman\nbq_materialization_project = pypl-bods\ndescription = ranking_combined_datafetcher\ndriver_loc = ${general:gcs_base_path}/data/ql_store_rmr_driver_simu_consumer\ngcp_project_id = ccg24-hrzana-gds-pacman\ngcs_bucket_name = pypl-bkt-rsh-row-std-gds-pacman\ngroup_name = mls_gads\nis_prod = 'True'\njob_name = ql_store_rmr\nmanager = Farhad\nmodel_name = ql_store_rmr_datafetcher\nmodel_owner = chenzhao\nnum_of_splits = '1'\non_gcp = 'True'\nseq_num = '20231005'\nsplit_ratio = '{\"train\": 1.0}'\nstage = training\nvariables = '[\"prmry_addr_state\", \"days_on_file\", \"ebay_member_y_n\", \"consu_engagmnt_seg_key\", \"prmry_cc_type_code\", \"days_appweb_visit\", \"consu_age_band_key\", \"consu_income_band_key\", \"consu_dmgrphc_seg_key\"]'\ndata_loc = ${general:gcs_base_path}/data/ql_store_rmr_driver_simu_consumer_varmart\n\n[Feature Consolidation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/02_combine.ipynb\nline_range = Lines 17-624\nbq_prefix = config['general_config']['bq_project_dataset_prefix']\nfile_path = ../config/base_config.yaml\ndriver_dev_features_table = '{bq_prefix}driver_dev_features'\ndriver_oot_features_expand_seq_table = '{bq_prefix}driver_oot_features_expand_seq'\ndriver_oot_features_table = '{bq_prefix}driver_oot_features'\nexport_uri = ${general:gcs_base_path}/data/ql_store_rmr_driver_dev_features/part*.parquet\n\n[Data Preprocessing]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/03_prepare_training_data.ipynb\nline_range = Lines 21-175\ncategorical_features = '[\"sndr_consu_engagmnt_seg_key\", \"sndr_ebay_member_y_n\", \"gender\", ...]'\nchunk_size = '1000000'\ndirectory = ../data/ql_store_rmr_driver_dev_features\nmodel_version_base = ../artifacts/din_<today_date>\nnumeric_features = '[\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", ...]'\nparquet_files = '[\"file1.parquet\", \"file2.parquet\", ...]'\nrcvr_id_tokenizer_params = '{\"num_words\": 1000, \"oov_token\": \"<OOV>\"}'\nstate_to_abbreviation = '{\"ALABAMA\": \"AL\", \"ALASKA\": \"AK\", ...}'\ncategorical_feature_encoders_path = ../artifacts/din_<today_date>/exported_feature_transformer/categorical_feature_encoders\nexported_feature_transformer = ../artifacts/din_<today_date>/exported_feature_transformer\nmodel_version = din_<today_date>\nnumerical_feature_scalars_path = ../artifacts/din_<today_date>/exported_feature_transformer/numerical_feature_scalars\noutput_dir = ../data/ql_store_rmr_driver_dev_features_transformed\nrcvr_id_tokenizer_path = ../artifacts/din_<today_date>/exported_feature_transformer/rcvr_id_tokenizer\n\n[Model Training]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 140-170\natt_activation = config['training_config']['DIN']['att_activation']\natt_hidden_size = config['training_config']['DIN']['att_hidden_size']\natt_weight_normalization = config['training_config']['DIN']['att_weight_normalization']\nbatch_size = config['training_config']['DIN']['batch_size']\ndnn_activation = config['training_config']['DIN']['dnn_activation']\ndnn_dropout = config['training_config']['DIN']['dnn_dropout']\ndnn_hidden_units = config['training_config']['DIN']['dnn_hidden_units']\ndnn_use_bn = config['training_config']['DIN']['dnn_use_bn']\nepochs = config['training_config']['DIN']['epochs']\ngpt_cate_names = '[\"gpt_1st_category_l2_index\", \"sndr_1st_freq_merchant_category_30d\", ...]'\nl2_reg_dnn = config['training_config']['DIN']['l2_reg_dnn']\nl2_reg_embedding = config['training_config']['DIN']['l2_reg_embedding']\nlearning_rate = config['training_config']['DIN']['learning_rate']\nnumeric_names = '[\"sndr_rcvr_txn_num_30d\", \"sndr_rcvr_txn_num_180d\", \"sndr_rcvr_txn_num_365d\", ...]'\nrcvr_id_names = '[\"rcvr_id\"]'\nseed = config['training_config']['DIN']['seed']\ntrain_data_path = ../data/ql_store_rmr_driver_dev_features_transformed\nmodel_artifact_path = os.path.join(exported_model_base, 'din.h5')\ntf_model_path = os.path.join(exported_model_base, 'din_saved_model')\n\n[Model Packaging]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/04_training.ipynb\nline_range = Lines 171-185\ntrained_model_path = os.path.join(exported_model_base, 'din_saved_model')\nonnx_model_path = os.path.join(exported_model_base, 'din.onnx')\noot_scoring_path = os.path.join(exported_model_base, 'oot_scoring')\nprod_model_path = os.path.join(exported_model_base, 'din_prod.m')\n\n[Model Scoring]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/05_scoring_oot.ipynb\nline_range = Lines 25-94\neval_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed_scored\nexported_model_base = /projects/gds-packman/apps/ql-store-recommendation-prod/research/artifacts/{model_version}/exported_models\nm_gcp_folder = ${general:gcs_base_path}/challenger/oot_scoring\nm_local_folder = /projects/gds-packman/apps/ql-store-recommendation-prod/research/artifacts/din_20240708/18/exported_models/oot_scoring\nmodel_version_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research/_current_model_version\noot_data_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed\nparams_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research/config\nsection_name = oot_data_scoring\nworking_path = /projects/gds-packman/apps/ql-store-recommendation-prod/research\neval_result_path = ${general:gcs_base_path}/data/ql_store_rmr_oot_transformed_scored\nlog_file = ${general:local_output_base_path}/logs/{job_id}.log\n\n[Model Evaluation]\nfile_name = repos/ql-store-recommendation-prod/research/pipeline/06_evaluation.ipynb\nline_range = Lines 375-731\nbq_project_dataset_prefix = '{config['general_config']['bq_project_dataset_prefix']}'\nconfig_file_path = ../config/base_config.yaml\nmodel_version_base = ../artifacts/{model_version}/18\nmodel_version_path = ../_current_model_version\noot_start_date = '{config['driver_config']['oot_start_date']}'\nremove_list = '''1365556366671835703'',''2254348706417584521'',''1581565211190403045'',''1157330454984142772'',''1339933886421356550'',''1812170125034785903'',''6053464759929799123'',''1587111025150613712'',''1672368731209095395'',''1365556366671835703'',''6085552794250364378'',''1954349237309389875'''\nexported_eval_readout_base = ../artifacts/{model_version}/18/exported_eval_readouts\nperformance_all_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.csv\nperformance_all_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_all.png\nperformance_ftu_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.csv\nperformance_ftu_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_ftu.png\nperformance_wo_ebay_csv = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.csv\nperformance_wo_ebay_png = ../artifacts/{model_version}/18/exported_eval_readouts/performane_wo_ebay.png"
    }
}